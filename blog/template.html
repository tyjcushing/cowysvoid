<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Post Title — Cowy’s Void</title>
  <meta name="description" content="Short meta description of the post." />

  <!-- Icons -->
  <link rel="icon" href="/assets/icons/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="/assets/icons/BlackHole.png" sizes="32x32">

  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/void.css">
</head>
<body>
  <!-- Background video -->
  <div id="bgVideo" class="bg-video" aria-hidden="true">
    <video id="bgVideoEl" playsinline muted autoplay loop preload="metadata" poster="/assets/Blackhole_Poster.jpg"></video>
  </div>

  <div class="app-layer">
    <header id="site-header" aria-label="Primary"></header>

    <main class="container">
      <!-- Page header panel -->
      <section class="panel page-panel solid-surface">
        <header class="page">
          <a class="btn ghost solid-ghost-btn" href="/blog" aria-label="Back to Blog">← Back to Blog</a>
          <h1 style="margin-top:12px">Sample Blog Post Title</h1>
          <p class="sub">A short one-line subtitle for context.</p>
          <div class="meta" style="margin-top:8px">
            <span class="pill">tag</span>
            <span class="pill">example</span>
            <span class="pill">5 min read</span>
            <span class="pill">Oct 2025</span>
          </div>
        </header>
      </section>

      <!-- Post content card -->
      <section class="grid">
        <article class="card project-card" style="grid-column: span 12;">
          <div class="thumbwrap thumbwrap-169">
            <img class="thumb" src="/assets/blog/example-thumb.jpg" alt="Placeholder image" />
          </div>
          <div class="body">
            <h2 class="section">Section Heading</h2>
            <p class="notes">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. 
              Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh 
              elementum imperdiet. Duis sagittis ipsum.
            </p>
            <p class="notes">
              Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. 
              Vestibulum lacinia arcu eget nulla. Class aptent taciti sociosqu ad litora torquent.
            </p>
            <h2 class="section">Another Section</h2>
            <p class="notes">
              Curabitur sodales ligula in libero. Sed dignissim lacinia nunc. Curabitur tortor. 
              Pellentesque nibh. Aenean quam. In scelerisque sem at dolor.
            </p>

            <div class="section" style="margin-top:14px">
              <a class="btn" href="/blog.html">← Back to Blog</a>
              <a class="btn primary" href="/projects.html" style="margin-left:8px">See Projects</a>
            </div>
          </div>
        </article>
      </section>
    </main>
  </div>

  <!-- Background video loader -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const c = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
      const isFast = !c || (c.effectiveType === '4g' && c.downlink >= 5 && !c.saveData);
      const isWifiLike = !c || (['wifi','ethernet'].includes(c.type || '') || typeof c.type === 'undefined');
      const allowVideo = isFast && isWifiLike;

      const wrap = document.getElementById('bgVideo');
      const vid  = document.getElementById('bgVideoEl');
      if (!wrap || !vid) return;

      if (!allowVideo) { wrap.style.display = 'none'; return; }
      vid.src = '/assets/Blackhole_Animtation.mp4';

      const onReady = () => { wrap.classList.add('ready'); const p = vid.play(); if (p && typeof p.catch === 'function') p.catch(() => {}); };
      vid.addEventListener('canplay', onReady, { once: true });
      vid.addEventListener('loadeddata', onReady, { once: true });
      vid.addEventListener('loadedmetadata', () => { wrap.classList.add('ready'); }, { once: true });
    });
  </script>

  <!-- Partials injector -->
  <script>
  (async () => {
    try {
      async function loadPartial(url) {
        const res = await fetch(url, { cache: 'no-store' });
        if (!res.ok) return null;
        const html = await res.text();
        const tpl = document.createElement('template');
        tpl.innerHTML = html.trim();
        tpl.content.querySelectorAll('style').forEach(st => { document.head.appendChild(st.cloneNode(true)); st.remove(); });
        return tpl.content.firstElementChild || null;
      }
      const header = document.getElementById('site-header');
      const navEl = await loadPartial('/partials/nav.html');
      if (header && navEl) { header.innerHTML = ''; header.appendChild(navEl); initNav(header); }
      const footerEl = await loadPartial('/partials/footer.html');
      if (footerEl) document.body.appendChild(footerEl);

      function initNav(scope) {
        const btn = scope.querySelector('.menu-toggle');
        const panel = scope.querySelector('#nav-panel');
        if (btn && panel) {
          btn.addEventListener('click', () => {
            const open = panel.classList.toggle('open');
            btn.setAttribute('aria-expanded', open ? 'true' : 'false');
          });
        }
        const here = location.pathname.toLowerCase().replace(/\\/+$/, '');
        scope.querySelectorAll('.nav-link').forEach(a => {
          let href = (a.getAttribute('href') || '').toLowerCase().replace(/\\/+$/, '');
          if (href === '/blog/') href = '/blog';
          if (here === href || ((here === '' || here === '/') && href === '/index.html')) a.setAttribute('aria-current', 'page');
          if (here.startsWith('/blog') && href === '/blog') a.setAttribute('aria-current', 'page');
        });
      }
    } catch (e) { console.warn('Partial load failed:', e); }
  })();
  </script>
</body>
</html>
